# Os-Project2

<div dir="rtl">
# بخش اول

## قسمت فایل code1.c
- الف
به صورت بی نهایت رشته running چاپ می‌شود
به این دلیل که دو متن از برنامه ساخته می‌شود د و ابتدا متن اول تا خط تابع تغییر متن اجرا شده و سپس متن دوم شروع به کار می‌ککند در متن دوم متن سوم از برنامه ساخته شده تعویض متن اتفاق می‌افتد
بدین صورت در حلقه قرار گرفته و اجرا ادامه خواهد یافت.
- ب
اگر خط های کامنت شده را اضافه کنیم خروجی دوبار چاپ خواهد شد.
به این دلیل که متغیر دان ابتدا مقدار صفر را گرفته و چون متن ها در یک پردازه هستند در متن اول متغییر به یک مقدار دهی شده و در متن دوم وارد شرظ نمی‌شود د و برنامه پایان می‌یابد.
- ج
مانند قسمت الف خروجی بی نهایت چاپ خواهد شد.
به این دلیل که برای هر متن یک رجیستر جداگانه مقدار دهی خواهد شد و در متن بعدی عدد متغییر همان صغر خواهد بود و شرط بلاک شرطی درست باقی می‌ماندند و برنامه به کار خود ادامه خواهد داد.

خروجی ها در فایل های اجرایی قرار دارند.

## قسمت فایل code2.c
- الف

ابتدا در متن اصلی وارد متد main میشود
سپس متن های یک و دو ساخته شده
و متن ها با متد مربوطه تعویض می‌شوند
در متن اول ابتدا حلفه اول فراخوانی می‌شود د و خروجی مربوطه ساخته می‌شود
متد yield فراخوانی میشود
متن جابجا شده و به متن دوم می‌رود
حلقه اول در متن دوم اجرا می‌شود
سپس دوباره به متن اول باز می‌گردردد با فراخوانی متد yield
حلفه دوم در متن اول اجرا شده و کل برنامه تمام می‌شود

برنامه باید دوباره به متن دوم باز می‌گشت ت و اجرای آن تمام می‌شد د ولی اجرای متن دوم نصفه باقی ماند.

خروجی به صورت زیر است:

pid 1 -> -3
pid 1 -> -2
pid 1 -> -1
yield from pid 0 to pid 1
pid 2 -> -5
pid 2 -> -4
pid 2 -> -3
pid 2 -> -2
pid 2 -> -1
yield from pid 1 to pid 0
pid 1 -> 1
pid 1 -> 2
pid 1 -> 3

- ب

برای این بخش برای هر متن دو فلگ اتمام حلقه اول و اتمام حلفه دوم در نظر گرفته شده است
اگر همه فلگ ها ۱ شده باشند به متن اصلی باز خواهیم گشت.

خروجی به صورت زیر خواهد شد:

make done context
pid 1 -> -3
pid 1 -> -2
pid 1 -> -1
change flag1 of p1 to 1
yield from pid 0 to pid 1
pid 2 -> -5
pid 2 -> -4
pid 2 -> -3
pid 2 -> -2
pid 2 -> -1
change flag1 of p2 to 1
yield from pid 1 to pid 0
pid 1 -> 1
pid 1 -> 2
pid 1 -> 3
change flag2 of p1 to 1
yield from pid 0 to pid 1
pid 2 -> 1
pid 2 -> 2
pid 2 -> 3
pid 2 -> 4
pid 2 -> 5
change flag2 of p2 to 1
all done
switch to done context
switch to main context from done context 1
Returned to main function

</div>
